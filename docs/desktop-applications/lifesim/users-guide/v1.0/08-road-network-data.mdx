---
title: "Road Network Data"
---

import Link from "@docusaurus/Link";
import addBaseUrl from "@docusaurus/useBaseUrl";
import Citation from "@site/src/components/Citation";
import CitationFootnote from "@site/src/components/CitationFootnote";
import Figure from "@site/src/components/Figure";
import FigureInline from "@site/src/components/FigureInline";
import FigReference from "@site/src/components/FigureReference";
import NavContainer from "@site/src/components/NavContainer";
import ProcessList from "@site/src/components/ProcessList";
import VersionSelector from "@site/src/components/VersionSelector";

<NavContainer 
  link="/desktop-applications/lifesim"
  linkTitle="LifeSim"
  document="desktop-applications/lifesim/users-guide"
></NavContainer>

# Road Network Data

If traffic is being simulated (set from the Emergency Planning Zone Editor; see section [EPZ Editor](#emergency-planning-zone-epz-editor)), road network data
and destination data (see section [Destination Data](./09-destination-data.mdx#destination-data)) are required in a LifeSim study to represent possible
evacuation routes that people can take during an evacuation. The road network features can be categorized into multiple road types with attributes
defining their census feature classification codes (CFCC), flow direction, and vertical offset (see [Appendix
C](./19-appendix-editing-road-network-data-for-use-in-lifesim.mdx#appendix-c-editing-road-network-data-for-use-in-lifesim)).

- **CFCC Classification**: a three-character system that is used to define feature data. The first character A denotes roads, the second character
is an integer that denotes road type (e.g., Primary Highway), and the third character further classifies within the road type (e.g., underpass). The
CFCC codes are used in LifeSim to define attributes about the road that affect transportation (e.g., free flow speed). Further information on CFCC
classification is available in [Appendix
C](./19-appendix-editing-road-network-data-for-use-in-lifesim.mdx#appendix-c-editing-road-network-data-for-use-in-lifesim).

- **Roads**: can be defined as one-way directional in LifeSim. If roads are defined in this way, care must be taken to make sure that the direction and
links are set up correctly.

- **Vertical Offsets**: designed for roads that are elevated above the ground, such as a bridge that would have water running under the road
 instead of on the road.

[Appendix C](./19-appendix-editing-road-network-data-for-use-in-lifesim.mdx#editing-road-network-data-for-use-in-lifesim) is designed to help users
prepare and edit road networks for use in LifeSim. The *LifeSim Version 2.0 Technical Reference Manual, Chapter 6* describes the computational input
parameters required for the traffic simulation model used to determine the speed of vehicles at each time step. There are two ways to add road network
data to an LifeSim study and only one format is supported (polygon shapefiles) to be utilized in LifeSim simulations.

## Road Classification Data

In LifeSim, roads are classified using census feature classification codes (CFCC). Users can view and edit the default CFCC codes; however, care
should be taken as the default road parameters have a significant impact on the traffic simulation model. 

To view and/or edit the default CFCC road attributes:

<ProcessList
  items={[
    { // STEP 1
      title: (
        <>
          From the LifeSim main window, from the <strong>Study</strong> tab, from the <em>Study Tree</em>, from the <strong>Road 
          Networks</strong> folder, right-click on <strong>Road Classification Data</strong>. From the shortcut 
          menu, click <strong>Edit Road Classification
          Data</strong> (<FigReference figKey="figure-126" />). The <em>Road Classification Editor</em> (<FigReference figKey="figure-127" />) opens.
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-126"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure126.png"
            alt="LifeSim Study Tree – Road Classification Data Shortcut Menu"
            caption="LifeSim Study Tree – Road Classification Data Shortcut Menu"
          />
          <Figure
            figKey="figure-127"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure127.png"
            alt="Road Classification Editor"
            caption="Road Classification Editor"
          />
        </>
      ),
    },
    { // STEP 2
      title: (
        <>
          A plot of the speed-density function is displayed at the top of the <em>Road Classification 
          Editor</em> (<FigReference figKey="figure-127" />). Review <a href="/RMC-Software-Documentation/docs/desktop-applications/lifesim/users-guide/v1.0/lifesim-interface#customizing-plots-and-plotting-tools">Customizing 
          Plots and Plotting Tools</a> for
          instructions on using the general plotting
          tools (located on the right side of the plot window) and for customizing plots.
          <br /><br />
          The editable road classification table below the plot window lists the default CFCC data. The road classification table lists the number of lanes,
          free flow speed, jam density, break point density, stop and go speed, and Greenshields power term.
          <br /><br />
          Users set the display units for the plot window and road classification table to either <strong>US 
          Customary</strong> (feet) <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-toggle.png"/> or <strong>System 
          International (SI)</strong> (meters) using the slider bar
          at the bottom of the editor.
        </>
      ),
    },
    { // STEP 3
      title: (
        <>
          <h4>
            An existing CFCC road classification code can be edited, or new road classification codes can be defined following the remaining instructions in this
            section.
          </h4>
          <p style={{ marginBottom: "0" }}>
            To add a new road classification code, right-click a cell to open the shortcut menu (<FigReference figKey="figure-127" />). From the shortcut menu,
            click <strong>Add Row(s)</strong>. By default, one row is added to the bottom of the road classification table (<FigReference figKey="figure-128" />).
          </p>
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-128"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure128.png"
            alt="Example Road Classification Editor – Row Added for New Road Classification"
            caption="Example Road Classification Editor – Row Added for New Road Classification"
          />
        </>
      ),
    },
    { // STEP 4
      title: (
        <>
          For the new row, double-click the <strong>CFCC</strong> column and enter the road classification code. Double-click to enter the description of the
          new road in the <strong>Description</strong> column. In the new row, continue to enter the following road classification parameters:
        </>
      ),
      child: [
        {
          title: (
            <>
              <strong># Lanes</strong>: total number of lanes going in the same direction.
            </>
          ),
        },
        {
          title: (
            <>
              <strong>Free Flow Speed</strong>: the speed of vehicles on the road with no impediments.
            </>
          ),
        },
        {
          title: (
            <>
              <strong>Jam Density</strong>: the density of vehicles per mile required to create traffic jam condition.
            </>
          ),
        },
        {
          title: (
            <>
              <strong>Break Point Density</strong>: the density of vehicles on the road required to start impacting the overall speed.
            </>
          ),
        },
        {
          title: (
            <>
              <strong>Stop and Go Speed</strong>: the speed that vehicles travel when under stop and go conditions.
            </>
          ),
        },
        {
          title: (
            <>
              <strong>Greenshields Power Term</strong>: parameter used to help define the relationship between speed and density of vehicles on the
              road network.
            </>
          ),
        }
      ]
    },
    { // STEP 5
      title: (
        <>
          Errors in the road classification table are highlighted in red (<FigReference figKey="figure-128" />) and a tooltip displays a message describing
          the error. Right-click on a header row to open the shortcut menu (<FigReference figKey="figure-95" />) to sort the table in ascending or descending
          order, or clear the table sorting.
        </>
      ),
    },
    { // STEP 6
      title: (
        <>
          To edit an existing CFCC code, select the row for the desired code to view the speed-density function in the plot 
          window (e.g., <strong>A48</strong> in <FigReference figKey="figure-127" />). Double-click the desired cell to edit the information for the selected CFCC
          code.
        </>
      ),
    },
    { // STEP 7
      title: (
        <>
          Click <strong>OK</strong>. The <em>Road Classification Editor</em> (<FigReference figKey="figure-127" />) closes and saves all edits to
          road classification data.
        </>
      ),
    }
  ]}
/>

## Create Road Network Datasets

Road network datasets can be created by importing information from a polyline shapefile that represents a road network. Another way to import a road
network dataset is using a bounding polygon shapefile to generate a road network using all available data within the bounding polygon from the
OpenStreetMap <Citation citationKey="OSM"/> database (refer to [Appendix
C](./19-appendix-editing-road-network-data-for-use-in-lifesim.mdx#appendix-c-editing-road-network-data-for-use-in-lifesim) for further information).

### Import from a Shapefile

To create a road network dataset from a polygon shapefile:

<ProcessList
  items={[
    { // STEP 1
      title: (
        <>
          From the LifeSim main window, from the <strong>Study</strong> menu, point
          to <strong>Road Network Data</strong> (<FigReference figKey="figure-129" />), and click <strong>Import From Shapefile</strong>. Another way is
          from the <strong>Study</strong> tab, from the <strong>Study Tree</strong>, right-click on <strong>Road Networks</strong>. From the shortcut 
          menu (<FigReference figKey="figure-130" />), click <strong>Import Road Network From Shapefile</strong>. 
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-129"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure129.png"
            alt="LifeSim Main Window – Study Menu – Road Network Data Sub-menu"
            caption="LifeSim Main Window – Study Menu – Road Network Data Sub-menu"
          />
          <Figure
            figKey="figure-130"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure130.png"
            alt="LifeSim Study Tree – Road Networks – Shortcut Menu"
            caption="LifeSim Study Tree – Road Networks – Shortcut Menu"
          />
        </>
      ),
    },
    { // STEP 2
      title: (
        <>
          Either way, the <strong>Import Road Network</strong> dialog 
          box (<FigReference figKey="figure-131" />) will open.
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-131"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure131.png"
            alt="Import Road Network Dialog Box"
            caption="Import Road Network Dialog Box"
          />
        </>
      ),
    },
    { // STEP 3
      title: (
        <>
          Enter a name for the road network dataset in the <strong>Name</strong> box (<FigReference figKey="figure-131" />).
        </>
      ),
    },
    { // STEP 4
      title: (
        <>
          To select the shapefile that contains information about the road network, to the right of the <strong>Road Network 
          Shapefile</strong> dropdown 
          menu (<FigReference figKey="figure-131" />), click <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-output-file.png" />. An <em>Open</em> browser 
          window (<FigReference figKey="figure-132" />) opens; navigate to
          the directory where the road network polyline shapefile is located. Select the correct polyline 
          shapefile (e.g., <em>&#42;.shp</em>). Click <strong>Open</strong>; the <em>Open</em> browser closes and the user is 
          returned to the <em>Import Road Network</em> dialog box (<FigReference figKey="figure-131" />). The location and name of the selected polyline shapefile 
          displays in the <strong>Road Network Shapefile</strong> dropdown menu. Alternatively, if the desired shapefile has 
          already been imported
          as a map layer into the LifeSim study, then from the <strong>Road Network Shapefile</strong> dropdown menu,
          select the desired map layer.
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-132"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure132.png"
            alt="Open Browser Window"
            caption="Open Browser Window"
          />
        </>
      ),
    },
    { // STEP 5
      title: (
        <>
          From the <strong>CFCC Name Field</strong> dropdown menu, select the appropriate attribute field in the
          selected shapefile that lists the CFCC codes (e.g., <strong>CFCC</strong> in <FigReference figKey="figure-133" />). The CFCC field is used
          to identify the most noticeable characteristic of a road.
          <br/><br/>
          If this information is not known (i.e., <strong>CFCC</strong> is not available from the <strong>CFCC Name Field</strong> list), then the user 
          could access the shapefile attribute table.
          See <a href="/RMC-Software-Documentation/docs/desktop-applications/lifesim/users-guide/v1.0/appendix-map-preferences#map-layer-attributes-dialog-box">Map Layer 
          Attributes Dialog Box</a> for details on accessing the attribute
          table to determine which column header contains the CFCC road identifications (e.g., A73, A15, A63, etc.). 
          Review <a href="/RMC-Software-Documentation/docs/desktop-applications/lifesim/users-guide/v1.0/road-network-data#road-classification-data">Road 
          Classification Data</a> for more information regarding the default CFCC codes in LifeSim.
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-133"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure133.png"
            alt="Example – Completed Import Road Network Dialog Box"
            caption="Example – Completed Import Road Network Dialog Box"
          />
        </>
      ),
    },
    { // STEP 6
      title: (
        <>
          If the road network shapefile contains data classifying one-way streets and the attribute identification (e.g., true or false; yes or no; 0 or 1),
          then the user can set the information for one-way streets (optional). For the example 
          provided in <FigReference figKey="figure-133" />, the <strong>One-Way Field (optional)</strong> attribute is <strong>oneway</strong>, and 
          the one-way field <strong>Identifier</strong> is <strong>yes</strong>.
        </>
      ),
    },
    { // STEP 7
      title: (
        <>
          Another optional field which depends on the road networks shapefile attributes is the <strong>Vertical Offset (ft) (optional)</strong> dropdown 
          menu (<FigReference figKey="figure-133" />), which sets the vertical offset.
        </>
      ),
    },
    { // STEP 8
      title: (
        <>
          Set the units for the road network to either <strong>US 
          Customary</strong> (feet) <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-toggle.png"/> or <strong>System 
          International (SI)</strong> by using the slider bar
          (e.g., <strong>US Customary</strong> is selected in <FigReference figKey="figure-133" />).
        </>
      ),
    },
    { // STEP 9
      title: (
        <>
          Once all of the information has been entered, click <strong>OK</strong>. The <em>Import Road Network</em> dialog (<FigReference figKey="figure-133" />) will 
          close. From the LifeSim main window, from the <em>Study
          Tree</em>, under the <strong>Road Networks</strong> folder, the name of the road network dataset is displayed.
        </>
      ),
    }
  ]}
/>

### Import from OpenStreetMap

OpenStreetMap <Citation citationKey="OSM"/> is a collaborative project to create a free editable map of the world. It is supported by a large community of dedicated
members to provide global geographic information system (GIS) data. LifeSim can take the road network information stored within the OpenStreetMap
database to create a road network for use in the software. 

To create a road network dataset from a bounding polygon shapefile:

<ProcessList
  items={[
    { // STEP 1
      title: (
        <>
          From the LifeSim main window, from the LifeSim main window, from the <strong>Study</strong> menu, point to <strong>Road Network
          Data</strong> (<FigReference figKey="figure-129" />), and click <strong>Import From OpenStreetMap</strong>.
          Another way is from the <strong>Study</strong> tab, from the <em>Study Tree</em>,
          right-click on <strong>Road Networks</strong>. From the shortcut menu (<FigReference figKey="figure-130" />), click <strong>Import Road Network From
          OpenStreeetMap</strong>.
        </>
      ),
    },
    { // STEP 2
      title: (
        <>
          Either way, the <em>Import Road Network From OpenStreetMap</em> dialog box (<FigReference figKey="figure-134" />) opens. Enter the name of
          the road network dataset in the <strong>Road Network Name</strong> box.
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-134"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure134.png"
            alt="Import Road Network From OpenStreetMap Dialog Box"
            caption="Import Road Network From OpenStreetMap Dialog Box"
          />
        </>
      ),
    },
    { // STEP 3
      title: (
        <>
          If the bounding polygon shapefile has been imported as a map layer, then select the map layer from the <strong>Bounding Polygon 
          Shapefile</strong> dropdown menu (<FigReference figKey="figure-134" />). Otherwise, click 
          the <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-output-file.png"/> button. 
          An <em>Open</em> browser window (<FigReference figKey="figure-132" />) opens. Navigate to the directory where the bounding polygon shapefile is 
          located. Select the
          correct polygon shapefile (e.g., <em>&#42;.shp</em>), click <strong>Open</strong>, and the <em>Open</em> browser will close.
        </>
      ),
    },
    { // STEP 4
      title: (
        <>
          The selected shapefile displays in the <strong>Bounding Polygon Shapefile</strong> dropdown menu (<FigReference figKey="figure-134" />). Enter
          the <strong>Bounding Polygon Buffer</strong> distance (positive value) if the default value of <strong>0</strong> is not desired. 
          <br/><br/>
          <strong>NOTE:</strong> the units
          displayed in the <em>Import Road Network From OpenStreetMap</em> dialog box (<FigReference figKey="figure-134" />) is relative to the
          horizontal unit of the underlying projection (typically feet). The buffer zone adds a consistent distance around the perimeter of the polygon area.
        </>
      ),
    },
    { // STEP 5
      title: (
        <>
          Enter the <strong>Maximum Road Length</strong> if the default value of <strong>3000</strong> is not desired. 
          <br/><br/>
          <strong>NOTE:</strong> the units displayed in
          the <em>Import Road Network From OpenStreetMap</em> dialog box (<FigReference figKey="figure-134" />) is relative to the horizontal unit of
          the underlying projection (typically feet).
        </>
      ),
    },
    { // STEP 6
      title: (
        <>
          The <strong>OSM Highway and CFCC</strong> table (<FigReference figKey="figure-134" />) allows users to select road -- classified by CFCC codes -- to 
          import. Import the desired road(s) by checking 
          the <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-checkbox.png"/> checkboxes for the road(s); 
          alternatively, <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-unchecked.png"/> uncheck the checkboxes to 
          prevent specific road(s) from importing.
        </>
      ),
    },
    { // STEP 7
      title: (
        <>
          Click <strong>OK</strong>, and the <em>Import Road Network From OpenStreetMap</em> dialog box (<FigReference figKey="figure-134" />)
          closes and a <em>Progress Window</em> opens (<FigReference figKey="figure-135" />). The <em>Progress Window</em> displays the import
          process where LifeSim contacts the OpenStreetMap Data Server and retrieves data based on the selected bounding polygon shapefile and 
          import conditions (buffer distance, maximum road length, CFCC selected roads).
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-135"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/osm-progress.gif"
            alt="Import from OpenStreetMap Progress Window"
            caption="Import from OpenStreetMap Progress Window"
          />
        </>
      ),
    },
    { // STEP 8
      title: (
        <>
          Once the import is completed, the <em>Progress Window</em> (<FigReference figKey="figure-135" />) closes. From the LifeSim
          main window, from the <em>Study Tree</em>, under the <strong>Road Networks</strong> folder, the name
          of the road network dataset is displayed.
        </>
      ),
    }
  ]}
/>

## Edit a Road Network Dataset

Once a road network dataset has been created, the user can edit that road network dataset. 

To edit a road network dataset, from the LifeSim main
window, from the <strong>Study</strong> tab, from the <em>Study Tree</em>, from the <strong>Road
Networks</strong> folder, right-click on a road network dataset, and click <strong>Edit</strong> from the shortcut 
menu (<FigReference figKey="figure-136" />). Another way is from the LifeSim main window, from the <strong>Study</strong> menu, point to <strong>Road
Network Data</strong> (<FigReference figKey="figure-129" />), point to <strong>Edit</strong>, and click a road network dataset.

Either way, the *Edit Road Network* dialog box (<FigReference figKey="figure-137" />) opens. Section [Import from a
Shapefile](./08-road-network-data.mdx#import-from-a-shapefile) provides information on the editor.

<Figure
  figKey="figure-136"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure136.png"
  alt="LifeSim Study Tree – Road Network Dataset – Shortcut Menu"
  caption="LifeSim Study Tree – Road Network Dataset – Shortcut Menu"
/>

<Figure
  figKey="figure-137"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure137.png"
  alt="Edit Road Network Dialog Box"
  caption="Edit Road Network Dialog Box"
/>

## Display a Road Network Dataset

To display a road network dataset, from the LifeSim main window, from the <strong>Study</strong> tab, from 
the <em>Study Tree</em>, from the <strong>Road Networks</strong> folder, right-click on a road network dataset. 
From the shortcut menu (<FigReference figKey="figure-136" />), click <strong>Show In Map Window</strong>. The selected road network dataset displays in the map window
of the LifeSim main window.

Also, road network dangles (or line ends that do not share an endpoint with any other line) can be displayed. Dangles are useful for determining
incomplete road networks by being able to quickly identify locations where roads are disconnected when they should be connected (refer to [Appendix
B](./18-appendix-map-preferences.mdx#appendix-b-map-preferences) for details on modifying road networks using dangles). From the LifeSim main window, from 
the **Study** tab, from the *Study Tree*, from the **Road Networks** folder, right-click on a road network
dataset. From the shortcut menu (<FigReference figKey="figure-136" />), click **Show Dangles in Map Window**. The selected road network dataset's dangles
will display in the map window of the LifeSim main window.

Map layer attributes can be accessed for each map layer and is provided in a table for the dataset referenced by the map layer. The road network
dataset must be displayed in the map window before the attribute table can be accessed. To access a specific map layer's attribute table, from the **Map
Layers** tab, right-click on a map layer of interest. From the shortcut menu, click **Open Attribute Table**. The *Map Layer Attributes* dialog box opens;
review [Map Layer Attributes Dialog Box](./18-appendix-map-preferences.mdx#map-layer-attributes-dialog-box) for more information. Editing of the map
layer attributes is detailed in [Editing Map Layer Features and
Attributes](./18-appendix-map-preferences.mdx#editing-map-layer-features-and-attributes).

## Copy a Road Network Dataset

To copy a road network dataset from an existing dataset, from the LifeSim main window, from the
<strong>Study</strong> tab, from the *Study Tree*, from the <strong>Road Networks</strong> folder,
right-click on a road network dataset. From the shortcut menu (<FigReference figKey="figure-136" />), click <strong>Copy</strong>. 

Another way is from the LifeSim main window, from the <strong>Study</strong> menu, point to <strong>Road Network Data</strong> (<FigReference figKey="figure-129" />),
point to <strong>Copy</strong>, and click a road network dataset.

Either way, the *Name of New Study Item* dialog box (<FigReference figKey="figure-86" />) opens. Enter a new name in
the <strong>Name</strong> box. Click <strong>OK</strong>, and the *Name of New Study Item* dialog box (<FigReference figKey="figure-86" />) closes and 
the copied road network dataset will display in the *Study Tree* under the <strong>Road Networks</strong> folder.

## Delete a Road Network Dataset

To delete a road network dataset from the LifeSim study and study directory files, from the LifeSim main window, from the <strong>Study</strong> tab, from 
the *Study Tree*, from the <strong>Road Networks</strong> folder, right-click on a road
network dataset. From the shortcut menu (<FigReference figKey="figure-136" />), click <strong>Delete</strong>. 

Another way is from the LifeSim main window, from the <strong>Study</strong> menu, point to <strong>Road Network Data</strong> (<FigReference figKey="figure-129" />), 
point to <strong>Delete</strong>, and click a road network dataset.

Either way, a *Confirm Delete* window (similar to <FigReference figKey="figure-101" />) opens asking for confirmation to delete the
selected road network dataset. Click <strong>Yes</strong>, the *Confirm Delete* message window closes, and the selected road network dataset is deleted 
and no longer displays in the *Study Tree*.

<CitationFootnote />