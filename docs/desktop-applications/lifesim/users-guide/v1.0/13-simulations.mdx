---
title: "Simulations"
---

import NavContainer from "@site/src/components/NavContainer";
import VersionSelector from "@site/src/components/VersionSelector";
import Link from "@docusaurus/Link";
import addBaseUrl from "@docusaurus/useBaseUrl";
import CitationFootnote from "@site/src/components/CitationFootnote";
import Figure from "@site/src/components/Figure";
import FigReference from "@site/src/components/FigureReference";
import FigureInline from "@site/src/components/FigureInline";

<NavContainer 
  link="/desktop-applications/lifesim"
  linkTitle="LifeSim"
  document="desktop-applications/lifesim/users-guide"
></NavContainer>

# Simulations

A LifeSim <strong>simulation</strong> is a mathematical representation of the behavior of a system, given inputs and initial conditions. It applies
the various study inputs (e.g., hydraulic scenario) to simulate the evacuation process and calculates consequence results based on the inputs. LifeSim
 simulations are created for the purpose of running and viewing life loss and damage estimation results for multiple alternatives. A common
application for LifeSim would be to inform a risk analysis where consequence estimates will be developed for multiple hypothetical events for current
and future conditions. Other applications include planning alternatives to reduce consequences (e.g., non-structural measures).

## Create a Simulation

Now that all of the building blocks have been added and configured (imported datasets, configured alternatives), the user can create an LifeSim
simulation.

1. From the LifeSim main window (<FigReference figKey="figure-178" />), from the <strong>Study</strong> tab, from the <strong>Study Tree</strong>,
right-click on <strong>Simulations</strong>, from the shortcut menu, click <strong>Create New Simulation</strong>. Another way is from the LifeSim
main window, from the <strong>Study</strong> menu (<FigReference figKey="figure-178" />), point to <strong>Simulations</strong>, click <strong>Create
 New</strong>.

<Figure
  figKey="figure-181"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure181.png"
  alt="LifeSim Study Tree – Individual Alternative – Shortcut Menu"
  caption="LifeSim Study Tree – Individual Alternative – Shortcut Menu"
/>

1. Either way, the <strong>Create New Simulation</strong> dialog box (<FigReference figKey="figure-179" />) opens.

<Figure
  figKey="figure-182"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure182.png"
  alt="Confirm Delete Window"
  caption="Confirm Delete Window"
/>

1. Enter a name for the simulation in the <strong>Name</strong> box (<FigReference figKey="figure-179" />).

1. In the <strong>Hazard Occurrence Time(s) of Day</strong> box (<FigReference figKey="figure-179" />) select the imminent hazard times for the day
(check the  checkbox for each time of day that is required in the simulation). The user must select at least one time of day. For each time of day
selected, a new simulation will be calculated using the selected alternatives. For example, if <em>2 AM</em> is selected then the selected
alternatives will be simulated for the entered number of iterations with the hazard occurring at <em>2 AM</em>.

1. In the <strong>Number of Iterations</strong> box (<FigReference figKey="figure-179" />) enter the number of iterations for the simulation. The
number of iterations cannot be greater than 1,000,000 (one million).

1. The <strong>Summary</strong> <strong>Polygons</strong> list (<FigReference figKey="figure-179" />) allows the user to set the attribute field
containing unique summary zones. The unique summary zones are used to group and summarize the simulation results. The zones are represented by
polygons. Emergency planning zones are commonly used but any polygon shapefile (e.g., river mile from dam breach) can be used.

1. Select the <strong>Summary Polygons</strong> from the list (<FigReference figKey="figure-180" />). Alternatively, click  to open an
<strong>Open</strong> browser window and navigate to the directory where the desired polygon shapefile is located. From the <strong>Open</strong>
browser window, select the desired polygon shapefile and click <strong>Open</strong>. The <strong>Open</strong> browser closes and the <strong>Summary
 Polygons</strong> list (<FigReference figKey="figure-179" />) updates with the desired shapefile.

<Figure
  figKey="figure-183"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure183.png"
  alt="LifeSim Main Window – Study Menu Simulations Sub-menu – Simulations Study Tree Shortcut Menu"
  caption="LifeSim Main Window – Study Menu Simulations Sub-menu – Simulations Study Tree Shortcut Menu"
/>

1. Enter the <strong>Summary</strong> <strong>Set</strong> <strong>Name</strong> for the zones (e.g., <em>EPZ</em> in
{"\n"}<FigReference figKey="figure-180" />). The name entered is used for display purposes.

1. From the <strong>Summary</strong> <strong>Name</strong> <strong>Field</strong> list (<FigReference figKey="figure-180" />) select the desired
field containing the unique summary zone names. The <strong>Summary</strong> <strong>Name</strong> <strong>Field</strong> list is populated based on
the selected <strong>Summary Polygons</strong>. If the user does not select a field containing unique names for each zone then a LifeSim message
window opens (<FigReference figKey="figure-181" />) requesting the user to select a field containing unique names.

<Figure
  figKey="figure-184"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure184.png"
  alt="Create New Simulation Dialog Box"
  caption="Create New Simulation Dialog Box"
/>

1. Additional summary zone sets can be added or removed from a simulation. Click the <strong>Add</strong>
{"\n"}<FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-298be86c.png" /> button (
{"\n"}<FigReference figKey="figure-180" />) to add and define another summary set. Click the <strong>Delete</strong>
{"\n"}<FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-ff03d1c8.png" /> button (
{"\n"}<FigReference figKey="figure-180" />) to delete an added summary set.

1. From the <strong>Alternatives</strong> box (<FigReference figKey="figure-180" />), check the  checkbox to select the alternatives to use in the
simulation by clicking on the alternative name. The user must select at least one alternative. Multiple alternatives can be selected.

1. Once all of the information for the simulation has been entered, click <strong>OK</strong>, the <strong>Create New Simulation</strong> dialog box (
{"\n"}<FigReference figKey="figure-179" />) will close. From the LifeSim main window (<FigReference figKey="figure-178" />), from the <strong>Study
Tree</strong>, under the <strong>Simulations </strong>folder, the name of the simulation is displayed.

## Simulation – Computation Engine Options

<strong>Computation</strong> <strong>Engine</strong> <strong>Options</strong> dialog box (<FigReference figKey="figure-182" />) allows the user to
set the number of threads for the simulation. LifeSim is designed to take advantage of multiple processors, often called parallel processing. The
number of threads for the simulation defaults to the maximum number of available processors on a user's computer. The user has the option of modifying
 the number of threads between one and the maximum number. Sometimes with very large datasets memory limits will be exceeded when a large number of
threads are defined. It is recommended for very large datasets to reduce the number of threads if memory limits are reached.

<Figure
  figKey="figure-185"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure185.png"
  alt="Example – Create New Simulation"
  caption="Example – Create New Simulation"
/>

In addition to setting the number of threads, the <strong>Computation</strong> <strong>Engine</strong> <strong>Options</strong> dialog box (
{"\n"}<FigReference figKey="figure-182" />) allows users to turn on or off the following compute options: enforce vehicular spillback and/or generate
summary results for structures and/or roads.

When the <strong>Generate</strong> <strong>Structure</strong> <strong>Summary</strong> <strong>Results</strong> and/or <strong>Generate</strong>
<strong>Road</strong> <strong>Summary</strong> <strong>Results</strong> (<FigReference figKey="figure-182" />) options are turned on then users can
create hydraulic summaries for structures. The structure and road summary results can be useful in identifying potential issues in the structure
inventory or road network. For example, issues such as structures that are inundated too quickly due to inaccurate structure locations, or bridges
that have water under them prior to the flood event.

When <strong>Enforce</strong> <strong>Vehicular</strong> <strong>Spillback</strong> (<FigReference figKey="figure-182" />) is turned on, the
effective vehicle length is used to make sure the number of vehicles on a road segment is physically possible given the number of lanes, length of the
 road segment and space taken by the average vehicle. When vehicular spillback is enforced and too many vehicles are on a road segment at the end of a
 timestep, then the spillback function pushes the last vehicle to enter the road back onto the previous road segment. The pushback (or spillback)
continues until each road segment is at or below capacity.

To access and modify the computation engine options:

1. From the <strong>Create New Simulation</strong> dialog box (<FigReference figKey="figure-179" />), or from the <strong>Simulation Editor</strong>
(<FigReference figKey="figure-184" />), from the <strong>Options</strong> menu, click <strong>Computation Engine Options</strong>. The
<strong>Computation Engine Options</strong> dialog box (<FigReference figKey="figure-182" />) will open.

1. From the <strong>Number of Threads for Simulation</strong> list, select the number of threads that will be available for the simulation (e.g.,
<em>16</em> in <FigReference figKey="figure-182" />).

1. Check the  checkbox to turn on the <strong>Generate</strong> <strong>Structure</strong> <strong>Summary</strong> <strong>Results</strong>,
<strong>Generate</strong> <strong>Road</strong> <strong>Summary</strong> <strong>Results</strong> and/or <strong>Enforce</strong>
<strong>Vehicular</strong> <strong>Spillback</strong> (<FigReference figKey="figure-182" />) options.

1. Click <strong>Save</strong>, the <strong>Computation Engine Options</strong> dialog box closes (<FigReference figKey="figure-182" />).

## Edit a Simulation

To edit a simulation, from the LifeSim main window (<FigReference figKey="figure-178" />), from the Study tab, from the Study Tree (
{"\n"}<FigReference figKey="figure-183" />), under Simulations, right-click on a simulation name. From the shortcut menu, click Edit (
{"\n"}<FigReference figKey="figure-183" />). Another way is from the LifeSim main window, from the Study menu, point to Simulations (
{"\n"}<FigReference figKey="figure-178" />), point to Edit, click on a simulation name. Either way the Simulation Editor opens (
{"\n"}<FigReference figKey="figure-184" />). [Create a Simulation](./13-simulations.mdx#create-a-simulation) and [Simulation – Computation Engine
Options](./13-simulations.mdx#simulation-compuation-engine-options) cover all of the data items that can be edited by the user.

<Figure
  figKey="figure-186"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure186.png"
  alt="LifeSim Message Window"
  caption="LifeSim Message Window"
/>

<Figure
  figKey="figure-187"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure187.png"
  alt="Computation Engine Options Dialog Box"
  caption="Computation Engine Options Dialog Box"
/>

## Delete a Simulation

To delete a simulation, from the LifeSim main window (<FigReference figKey="figure-178" />), from the <strong>Study</strong> tab, from the
<strong>Study Tree</strong> (<FigReference figKey="figure-183" />), under <strong>Simulations</strong>, right-click on a simulation name. From the
shortcut menu, click <strong>Delete</strong> (<FigReference figKey="figure-183" />). Another way is from the LifeSim main window, from the
<strong>Study</strong> menu, point to <strong>Simulations</strong> (<FigReference figKey="figure-178" />), point to <strong>Delete</strong>, click on
 a simulation name.

Either way a <strong>Confirm Delete Simulation</strong> message window (<FigReference figKey="figure-185" />) opens. The window asks the user, "Are
you sure you want to delete [<em>the selected simulation</em>] and all of its results" from the study. Click <strong>Yes</strong>, to delete the
simulation and associated results files from the study and close the <strong>Confirm Delete</strong> message window (
{"\n"}<FigReference figKey="figure-185" />). Alternatively, click <strong>No</strong>, to close the message window without deleting the selected
simulation.

<Figure
  figKey="figure-188"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure188.png"
  alt="LifeSim Study Tree – Individual Simulation – Shortcut Menu"
  caption="LifeSim Study Tree – Individual Simulation – Shortcut Menu"
/>

## Compute a Simulation

To compute a simulation, from the LifeSim main window (<FigReference figKey="figure-178" />), from the <strong>Study</strong> tab, from the
<strong>Study Tree</strong> (<FigReference figKey="figure-183" />), under <strong>Simulations</strong>, right-click on a simulation name. From the
shortcut menu, click <strong>Run Simulation</strong> (<FigReference figKey="figure-183" />). Another way is from the LifeSim main window, from the
<strong>Study</strong> menu, point to <strong>Simulations</strong> (<FigReference figKey="figure-178" />), point to <strong>Run</strong>, click on a
simulation name.

The computation of the simulation will begin, from the LifeSim main window (<FigReference figKey="figure-178" />), a progress bar will appear (
{"\n"}<FigReference figKey="figure-186" />) in the <strong>Status Bar</strong>, detailing the progress of the compute. Also, a
<strong>Simulation</strong> <strong>Progress</strong> window (<FigReference figKey="figure-187" />) opens displaying status bars for the entire
simulation (all alternatives) and for each alternative included in the simulation (<FigReference figKey="figure-187" />).

If the study data included in the selected alternatives contain errors, the compute of the simulation ends and error messages describing the issues
with the alternative data display in the <strong>Simulation</strong> <strong>Progress</strong> window (<FigReference figKey="figure-188" />). Once
the compute is complete, click <strong>Close</strong> to close the <strong>Simulation</strong> <strong>Progress</strong> (
{"\n"}<FigReference figKey="figure-187" />) window.

<Figure
  figKey="figure-189"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure189.png"
  alt="Example Simulation Editor"
  caption="Example Simulation Editor"
/>

<Figure
  figKey="figure-190"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure190.png"
  alt="Confirm Delete Simulation Message Window"
  caption="Confirm Delete Simulation Message Window"
/>

<Figure
  figKey="figure-191"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure191.png"
  alt="Progress Bar"
  caption="Progress Bar"
/>

<CitationFootnote />
