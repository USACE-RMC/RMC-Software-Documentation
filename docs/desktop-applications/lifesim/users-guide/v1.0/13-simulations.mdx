---
title: "Simulations"
---

import Link from "@docusaurus/Link";
import addBaseUrl from "@docusaurus/useBaseUrl";
import Citation from "@site/src/components/Citation";
import CitationFootnote from "@site/src/components/CitationFootnote";
import Figure from "@site/src/components/Figure";
import FigureInline from "@site/src/components/FigureInline";
import FigReference from "@site/src/components/FigureReference";
import NavContainer from "@site/src/components/NavContainer";
import ProcessList from "@site/src/components/ProcessList";
import TableReference from "@site/src/components/TableReference";
import TableVertical from "@site/src/components/TableVertical";
import VersionSelector from "@site/src/components/VersionSelector";

<NavContainer 
  link="/desktop-applications/lifesim"
  linkTitle="LifeSim"
  document="desktop-applications/lifesim/users-guide"
></NavContainer>

# Simulations

A LifeSim <strong>simulation</strong> is a mathematical representation of the behavior of a system, given inputs and initial conditions. It applies
the various study inputs (e.g., hydraulic scenario) to simulate the evacuation process and calculates consequence results based on the inputs. LifeSim
 simulations are created for the purpose of running and viewing life loss and damage estimation results for multiple alternatives. A common
application for LifeSim would be to inform a risk analysis where consequence estimates will be developed for multiple hypothetical events for current
and future conditions. Other applications include planning alternatives to reduce consequences (e.g., non-structural measures).

## Create a Simulation

Now that all of the building blocks have been added and configured (imported datasets, configured alternatives), the user can create an LifeSim
simulation.

<ProcessList
  items={[
    { // STEP 1
      title: (
        <>
          From the LifeSim main window, from the <strong>Study</strong> tab, from the <em>Study Tree</em>,
          right-click on <strong>Simulations</strong>. From the shortcut menu, click <strong>Create New Simulation</strong>. Another way is from the LifeSim
          main window, from the <strong>Study</strong> menu, point to <strong>Simulations</strong>, and click <strong>Create
          New</strong>. <FigReference figKey="figure-181" /> demonstrates both methods.
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-181"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure181.png"
            alt="LifeSim Main Window - Simulations Study Tree Shortcut Menu & Study Menu Simulations Sub-menu"
            caption="LifeSim Main Window - Simulations Study Tree Shortcut Menu & Study Menu Simulations Sub-menu"
          />
        </>
      ),
    },
    { // STEP 2
      title: (
        <>
          Either way, the <em>Create New Simulation</em> dialog box (<FigReference figKey="figure-182" />) opens.
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-182"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure182.png"
            alt="Create New Simulation Dialog Box"
            caption="Create New Simulation Dialog Box"
          />
        </>
      ),
    },
    { // STEP 3
      title: (
        <>
          Enter a name for the simulation in the <strong>Name</strong> box (<FigReference figKey="figure-182" />).
        </>
      ),
    },
    { // STEP 4
      title: (
        <>
          In the <strong>Hazard Occurrence Time(s) of Day</strong> box (<FigReference figKey="figure-182" />), select the imminent hazard times for the day
          (check the <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-checkbox.png"/> checkbox for each time of 
          day that is required in the simulation). The user must select at least one time of day. For each time of day
          selected, a new simulation will be calculated using the selected alternatives. For example, if <strong>2 AM</strong> is selected, then the selected
          alternatives will be simulated for the entered number of iterations with the hazard occurring at <strong>2 AM</strong> (02:00).
        </>
      ),
    },
    { // STEP 5
      title: (
        <>
          In the <strong>Number of Iterations</strong> box (<FigReference figKey="figure-182" />), enter the number of iterations for the simulation. The
          number of iterations cannot be greater than 1,000,000 (one million).
        </>
      ),
    },
    { // STEP 6
      title: (
        <>
          The <strong>Summary Polygons</strong> list (<FigReference figKey="figure-182" />) allows the user to set the attribute field
          containing unique summary zones. The unique summary zones are used to group and summarize the simulation results. The zones are represented by
          polygons. Emergency planning zones are commonly used but any polygon shapefile (e.g., river mile from dam breach) can be used.
          <br/><br/>
          Select the <strong>Summary Polygons</strong> from the dropdown list (<FigReference figKey="figure-182" />). Alternatively, 
          click <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-output-file.png"/> to open
          an <em>Open</em> browser window and navigate to the directory where the desired polygon shapefile is located. From the <em>Open</em> browser
          window, select the desired polygon shapefile and click <strong>Open</strong>. The <em>Open</em> browser closes and the <strong>Summary
          Polygons</strong> list (<FigReference figKey="figure-183" />) updates with the desired shapefile.
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="figure-183"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure183.png"
            alt="Example: Create New Simulation"
            caption="Example: Create New Simulation"
          />
        </>
      ),
    },
    { // STEP 7
      title: (
        <>
          Enter the <strong>Summary Set Name</strong> for the 
          zones (e.g., <strong>EPZ</strong> in <FigReference figKey="figure-183" />). The name entered is used for display purposes.
        </>
      ),
    },
    { // STEP 8
      title: (
        <>
          From the <strong>Summary Name Field</strong> dropdown list (<FigReference figKey="figure-183" />), select the desired
          field containing the unique summary zone names. The <strong>Summary Name Field</strong> list is populated based on
          the selected <strong>Summary Polygons</strong>. If the user does not select a field containing unique names for each zone, then a LifeSim message
          window opens (<FigReference figKey="figure-184" />) requesting the user to select a field containing unique names.
        </>
      ),
      freeform: ( 
        <>
          <Figure
            figKey="figure-184"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure184.png"
            alt="LifeSim Message Window"
            caption="LifeSim Message Window"
          />
        </>
      ),
    },
    { // STEP 9
      title: (
        <>
          Additional summary zone sets can be added or removed from a simulation. Click 
          the <strong>Add</strong> <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-occ-add.png" /> button (<FigReference figKey="figure-183" />) to 
          add and define another summary set. Click 
          the <strong>Delete</strong> <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-occ-delete.png" /> button (<FigReference figKey="figure-183" />) to 
          delete an added summary set.
        </>
      ),
    },
    { // STEP 10
      title: (
        <>
          From the <strong>Alternatives</strong> box (<FigReference figKey="figure-183" />), check 
          the <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-checkbox.png" /> checkbox to select the alternatives to use in the
          simulation by clicking on the alternative name. The user must select at least one alternative. Multiple alternatives can be selected.
        </>
      ),
    },
    { // STEP 11
      title: (
        <>
          Once all of the information for the simulation has been entered, click <strong>OK</strong>. The <em>Create New Simulation</em> dialog 
          box (<FigReference figKey="figure-183" />) will close. From the LifeSim main window, from the <em>Study
          Tree</em>, under the <strong>Simulations</strong> folder, the name of the simulation is displayed.
        </>
      ),
    }
  ]}
/>

## Simulation – Computation Engine Options

The <em>Computation Engine Options</em> dialog box (<FigReference figKey="figure-185" />) allows the user to
set the number of threads for the simulation. LifeSim is designed to take advantage of multiple processors, often called parallel processing. The
number of threads for the simulation defaults to the maximum number of available processors on a user's computer. The user has the option of modifying
the number of threads between one and the maximum number. Sometimes with very large datasets, memory limits will be exceeded when a large number of
threads are defined. It is recommended for very large datasets to reduce the number of threads if memory limits are reached.

<Figure
  figKey="figure-185"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure185.png"
  alt="Computation Engine Options Dialog Box"
  caption="Computation Engine Options Dialog Box"
/>

In addition to setting the number of threads, the <em>Computation Engine Options</em> dialog box (<FigReference figKey="figure-185" />) allows 
users to turn on or off the following compute options: generate
summary results for structures and/or roads, and/or enforce vehicular spillback.

When the <strong>Generate</strong> <strong>Structure</strong> <strong>Summary</strong> <strong>Results</strong> and/or <strong>Generate</strong>
<strong>Road</strong> <strong>Summary</strong> <strong>Results</strong> (<FigReference figKey="figure-185" />) options are turned 
on <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-checkbox.png"/>, then users can
create hydraulic summaries for structures. The structure and road summary results can be useful in identifying potential issues in the structure
inventory or road network. For example, issues such as structures that are inundated too quickly due to inaccurate structure locations, or bridges
that have water under them prior to the flood event.

When <strong>Enforce</strong> <strong>Vehicular</strong> <strong>Spillback</strong> (<FigReference figKey="figure-185" />) is turned 
on <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-checkbox.png"/>, the
effective vehicle length is used to make sure the number of vehicles on a road segment is physically possible given the number of lanes, length of the
road segment, and space taken by the average vehicle. When vehicular spillback is enforced and too many vehicles are on a road segment at the end of a
timestep, then the spillback function pushes the last vehicle to enter the road back onto the previous road segment. The pushback (or spillback)
continues until each road segment is at or below capacity.

To access and modify the computation engine options:

<ProcessList
  items={[
    { // STEP 1
      title: (
        <>
          From the <em>Create New Simulation</em> dialog box (or from the <em>Simulation 
          Editor</em> [<FigReference figKey="figure-187" />]), click the <strong>Options</strong> menu at the top left, then click <strong>Computation Engine 
          Options</strong> (<FigReference figKey="computation-opt" />).
        </>
      ),
      freeform: (
        <>
          <Figure
            figKey="computation-opt"
            src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/computation-opt.png"
            alt="Create New Simulation Dialog Box - Options Menu"
            caption="Create New Simulation Dialog Box - Options Menu"
          />
        </>
      ),
    },
    { // STEP 2
      title: (
        <>
          The <em>Computation Engine Options</em> dialog box (<FigReference figKey="figure-185" />) will open.
        </>
      ),
    },
    { // STEP 3
      title: (
        <>
          From the <strong>Number of Threads for Simulation</strong> list, select the number of threads that will be available for 
          the simulation (e.g., <strong>16</strong> in <FigReference figKey="figure-185" />).
        </>
      ),
    },
    { // STEP 4
      title: (
        <>
          Check the <FigureInline src="figures/desktop-applications/lifesim/users-guide/v1.0/inline-images/inline-checkbox.png"/> checkbox to turn 
          on the <strong>Generate Structure Summary Results</strong>, <strong>Generate Road Summary Results</strong>, and/or <strong>Enforce
          Vehicular Spillback</strong> options.
        </>
      ),
    },
    { // STEP 5
      title: (
        <>
          Click <strong>Save</strong>, and the <em>Computation Engine Options</em> dialog box closes.
        </>
      ),
    }
  ]}
/>

## Edit a Simulation

To edit a simulation, from the LifeSim main window, from the **Study** tab, from the *Study Tree*, under **Simulations**, right-click 
on a simulation name (<FigReference figKey="figure-186" />). From the shortcut menu, click **Edit**. 

Another way is from the LifeSim main window, from the **Study** menu, point to **Simulations** (<FigReference figKey="figure-181" />), point to **Edit**, and 
click on a simulation name. 

Either way, the *Simulation Editor* opens (<FigReference figKey="figure-187" />). Sections [Create a Simulation](./13-simulations.mdx#create-a-simulation) and [Simulation – Computation 
Engine Options](./13-simulations.mdx#simulation-compuation-engine-options) cover all of the data items that can be edited by the user.

<Figure
  figKey="figure-186"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure186.png"
  alt="LifeSim Study Tree - Individual Simulation - Shortcut Menu"
  caption="LifeSim Study Tree - Individual Simulation - Shortcut Menu"
/>

<Figure
  figKey="figure-187"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure187.png"
  alt="Example: Simulation Editor"
  caption="Example: Simulation Editor"
/>

## Delete a Simulation

To delete a simulation, from the LifeSim main window, from the **Study** tab, from the *Study Tree*, under **Simulations**, right-click 
on a simulation name (<FigReference figKey="figure-186" />). From the shortcut menu, click **Delete**. 

Another way is from the LifeSim main window, from the **Study** menu, point to **Simulations** (<FigReference figKey="figure-181" />), point to **Delete**, and 
click on a simulation name. 

Either way, a <strong>Confirm Delete Simulation</strong> message window (<FigReference figKey="figure-188" />) opens. The window asks the user, "Are
you sure you want to delete [<em>the selected simulation</em>] and all of its results" from the study. Click <strong>Yes</strong> to delete the
simulation and associated results files from the study and close the <em>Confirm Delete Simulation</em> message 
window (<FigReference figKey="figure-188" />). Alternatively, click <strong>No</strong> to close the message window without deleting the selected
simulation.

<Figure
  figKey="figure-188"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure188.png"
  alt="Confirm Delete Simulation Message Window"
  caption="Confirm Delete Simulation Message Window"
/>

## Compute a Simulation

To compute a simulation, from the LifeSim main window, from the **Study** tab, from the *Study Tree*, under **Simulations**, right-click 
on a simulation name (<FigReference figKey="figure-186" />). From the shortcut menu, click **Run Simulation**. 

Another way is from the LifeSim main window, from the **Study** menu, point to **Simulations** (<FigReference figKey="figure-181" />), point to **Run**, and 
click on a simulation name. 

The computation of the simulation will begin. From the LifeSim main window (<FigReference figKey="main-window" />), a progress bar will appear 
in the <em>Status Bar</em> detailing the progress of the compute (<FigReference figKey="figure-189" />).

<Figure
  figKey="main-window"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure1(3).png"
  alt="LifeSim Main Window"
  caption="LifeSim Main Window"
/>

<Figure
  figKey="figure-189"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure189.png"
  alt="Example: In-Status Progress Bar"
  caption="Example: In-Status Progress Bar"
/>

Additionally, a <em>Simulation Progress</em> window opens displaying status bars for the entire
simulation (all alternatives) and for each alternative included in the simulation (<FigReference figKey="figure-187" />).

<Figure
  figKey="figure-190"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure190.png"
  alt="Simulation Progress Window"
  caption="Simulation Progress Window"
/>

If the study data included in the selected alternatives contain errors, the compute of the simulation ends, and error messages describing the issues
with the alternative data display in the <em>Simulation Progress</em> window (<FigReference figKey="figure-191" />).

<Figure
  figKey="figure-191"
  src="figures/desktop-applications/lifesim/users-guide/v1.0/figures/figure191.png"
  alt="Example: Simulation Progress Window with Errors"
  caption="Example: Simulation Progress Window with Errors"
/>

Once the compute is complete, click <strong>Close</strong> to close the <em>Simulation Progress</em> window.

<CitationFootnote />
