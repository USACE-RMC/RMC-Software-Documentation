---
title: Transform Functions
---

import NavContainer from "@site/src/components/NavContainer";
import VersionSelector from "@site/src/components/VersionSelector";
import Link from "@docusaurus/Link";
import addBaseUrl from "@docusaurus/useBaseUrl";
import Figure from "@site/src/components/Figure";
import FigReference from "@site/src/components/FigureReference";
import Equation from "@site/src/components/Equation";
import Citation from "@site/src/components/Citation";
import CitationFootnote from "@site/src/components/CitationFootnote";

<NavContainer 
  link="/desktop-applications/rmc-totalrisk"
  linkTitle="RMC-TotalRisk" 
  document="desktop-applications/rmc-totalrisk/users-guide"
></NavContainer>

# Transform Functions

In RMC-TotalRisk, transform functions change one hazard type into another hazard type. For example, you can use a flow-stage rating curve derived from
a hydraulic model to transform a peak flow-frequency function into a stage-frequency function. The following subsections describe each transform function
option in detail.

## Linear Transform Function

This option applies a simple linear function to transform one type of hazard into another:

<Equation 
  equationKey="linear"
  equation="Y = α + βX + ε"
/>

where ε ∼N (0,σ).

To create a linear transform function, right-click on the **Transforms** folder in the Project Explorer (<FigReference figKey="create-linear-transform" />)
or from **Project Menu > Transforms** and select **Add Linear Transform...**. Enter a name for the linear transform function and click **OK**.

<Figure
  figKey="create-linear-transform"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure74.png"
  alt="The Add Linear Transform option under the right-click menu of Transforms on the left, and the Linear Transform dialog box on the right allowing 
    the user to enter the name of the transform."
  caption="Create new linear transform function."
/>

Creating a new linear transform function opens the Tabbed Documents area, and the Properties window displays the transform function properties
(<FigReference figKey="linear-transform-properties" />). In the Properties window, you can set the name, description, hazard type, hazard units, transformed
hazard, transformed units, and linear transform parameters. Unchecking the **Uncertainty On** checkbox removes the standard error ($\sigma$) parameter and
the error term ($\varepsilon$), and only the slope ($\beta$) and intercept ($\alpha$) are required.

<Figure
  figKey="linear-transform-properties"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure75.png"
  alt="Properties window displaying name, description, hazard type, hazard units, transformed hazard, and transformed units. There is a check box for 
    including uncertainty and text boxes to specify linear transform parameters."
  caption="Linear transform function properties."
/>

The Tabbed Document for a linear transform function includes a graphical representation of the function (<FigReference figKey="linear-transform-graph" />).

<Figure
  figKey="linear-transform-graph"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure76.png"
  alt="A plot displaying mean and 90% confidence interval of Stage-Flow linear transform function with Flow in cfs on the x-axis and Stage in ft on the y-axis."
  caption="Linear transform function graphical display."
/>

## Power Transform Function

This option applies a power function to transform one type of hazard into another:

<Equation 
  equationKey="power"
  equation="Y = \left[ \alpha \left( X - \xi \right)^\beta \right] \cdot \varepsilon
"
/>

where ε ∼ N(0,σ). Ensure the standard error (σ) is in log-space.

To create a power transform function, right-click on the **Transforms** folder in the Project Explorer (<FigReference figKey="create-power-transform" />)
or from **Project Menu > Transforms** and select **Add Power Transform…**. Next, give the power transform function a name and click **OK**.

<Figure
  figKey="create-power-transform"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure77.png"
  alt="The Add Power Transform option under the right-click menu of Transforms on the left, and the Power Transform dialog box on the right allowing the 
    user to enter the name of the transform."
  caption="Create new power transform function."
/>

Creating a new power transform function opens the Tabbed Documents area and displays the Properties window with the transform function properties
(<FigReference figKey="power-transform-properties" />). In the Properties window, you can set the name, description, hazard type, hazard units, transformed
hazard, transformed units, and power transform parameters. Unchecking the **Uncertainty On** checkbox removes the standard error ($\sigma$) parameter and
the error term ($\varepsilon$), and only the coefficient ($\alpha$), exponent ($\beta$), and location ($\xi$) are required.

<Figure
  figKey="power-transform-properties"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure78.png"
  alt="Properties window displaying name, description, hazard type, hazard units, transformed hazard, and transformed units. There are check boxes for 
    inverse function and including uncertainty, and text boxes to specify power transform parameters."
  caption="Power transform function properties."
/>

The Tabbed Document for a power transform function contains a graphical representation of the function (<FigReference figKey="power-transform-graph" />).

<Figure
  figKey="power-transform-graph"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure79.png"
  alt="A plot displaying mean and 90% confidence interval of Stage-Flow power transform function with Flow in cfs on the x-axis and Stage in ft on the y-axis."
  caption="Power transform function graphical display."
/>

## Tabular Transform Function

This option allows you to easily define a hazard transform function using tabular data. A common use case involves copying and pasting a transform function
(e.g., a flow-stage rating curve) from another application, such as Microsoft Excel or HEC-RAS.

To create a tabular transform function, right-click on the **Transforms** folder in the Project Explorer (<FigReference figKey="create-tabular-transform" />)
or from **Project Menu > Transforms** and select **Add Tabular Transform…**. Next, give the tabular transform function a name and click **OK**.

<Figure
  figKey="create-tabular-transform"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure80.png"
  alt="The Add Tabular Transform option under the right-click menu of Transforms on the left, and the Tabular Transform dialog box on the right allowing 
    the user to enter the name of the transform."
  caption="Create new tabular transform function."
/>

Creating the new tabular transform function opens the Tabbed Documents area, and the Properties window displays the tabular function properties
(<FigReference figKey="tabular-transform-properties" />). In the Properties window, you can specify the name, description, hazard type, hazard units,
transformed hazard, transformed units, and hazard and transformed hazard interpolation methods. These interpolation transforms define how the data is
interpolated when sampling values between the specified tabular ordinates.

<Figure
  figKey="tabular-transform-properties"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure81.png"
  alt="The tabular transform properties window displaying the name, description, created on and last modified dates, the hazard type, and units, and transformed 
    hazard and transformed units, as well as the interpolation transforms options."
  caption="Tabular transform function properties."
/>

The Tabbed Document for a tabular function includes a table for entering data and a graphical representation of that data (<FigReference figKey="tabular-transform-graph" />).
You can define uncertainty for the transformed hazard at each tabular ordinate. To do this, select a distribution type and enter the corresponding parameters
for each ordinate in the tabular data.

<Figure
  figKey="tabular-transform-graph"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure82.png"
  alt="Displays the tabular transform function table and distribution selection dropdown on the left and the corresponding graph with mean, median, minimum, 
    maximum, and 90% confidence interval on the right with Flow in cfs on the x-axis and Stage in ft on the y-axis."
  caption="Example tabular transform function transforming flow to stage."
/>

### Data Validation

The input data table has built-in validation. Tabular data must meet the following requirements:

- The hazard values must be in ascending order.

- If uncertainty is defined, each uncertain ordinate must contain valid distribution parameters.

When you enter invalid data, the table cell turns red, and a tooltip explains the error, as shown in Figure <FigReference figKey="tabular-validation-error" />.
Additionally, an error message appears in the Message window, prompting you to resolve all errors in the data table.

<Figure
  figKey="tabular-validation-error"
  src="figures/desktop-applications/rmc-totalrisk/users-guide/v1.0/figure83.png"
  alt="The flow-stage data table with invalid data cell turned red, and a tooltip displaying the source of the error."
  caption="Tabular transform function data validation."
/>

<CitationFootnote />
